<!DOCTYPE html>
<html lang="en">
   <!-- <script>
      function getProgress() {
        var source = new EventSource("/progress");
        source.onmessage = function(event) {
          $('.progress-bar').css('width', event.data+'%').attr('aria-valuenow', event.data);
          $('.progress-bar-label').text(event.data+'%');
    
          // Event source closed after hitting 100%
          if(event.data == 100){
            source.close()
          }
        }
      }
      </script> -->
   
    <title>Production Linearity</title>
  </head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS file -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
  <body>
   <div class="jumbotron text-center">
      <h1>Production Linearity</h1>
      <p>An internal tool built for linear production planning</p> 
      <p>@Jiahao (Derek) Ye</p> 
   </div>
   {% if title == 'input' %}
      <div class="container">
         <div class="row">
            <div class="col-sm-4">
            <h3>Input:</h3>
            <form method=post enctype=multipart/form-data>
               <div class="form-group">
                 <label>Select file </label>
                 <div class="custom-file">
                   <input type="file" class="custom-file-input" name="file">
                   <label class="custom-file-label">Select csv file...</label>
                 </div>
               </div>
               <p> Pre Build-days:
               <input type=text name=prebuildDay>
               <p><div align="right">
                  <button type="submit" class="btn btn-primary">Submit</button>
               </div>   
             </form>
               <!-- <div class="progress progress-striped active">
                  <div class="progress-bar"  role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%">
                  <span class="sr-only"></span>
                  </div> -->
            </form> 
      </div>
   <!-- {% elif title=='render' %}
      <h2>Proceccing...</h2>
      <progress> max = "10", value="5"</progress>progress>
      <!-- <div class="progress" style="width: 80%; margin: 50px;">
         <div class="progress-bar progress-bar-striped active"
         role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%">
         <span class="progress-bar-label">0%</span>
         </div>
      </div> --> -->
   {% elif title=='error' %}
      <div class="container">
         <div class="row"></div>
         <div class="col-sm-4">
            <h3>Try again: {{content}}</h3>
            <form method=post enctype=multipart/form-data>
               <div class="form-group">
               <label>Select file</label>
               <div class="custom-file">
                  <input type="file" class="custom-file-input" name="file">
                  <label class="custom-file-label">Select csv file...</label>
               </div>
               </div>
               <p> Pre Build-days:
               <input type=text name=prebuildDay>
               <p><div align="right">
                  <button type="submit" class="btn btn-primary">Submit</button>
               </div>   
            </form>
      </div>
   {% else %}
      <div class="container">
         <div class="row"></div>
            <div class="col-sm-4">
               <h3>Output:</h3>
            </div>
            <div class="col-sm-4">
               <p> Output File:
               <a href="/return-files/{{title}}" target="blank"><button class='btn btn-default'>Download</button></a>
               </p>
               <p></p>
            </div>
            <div class="col-sm-16" align="middle">
               {{content|safe}} 
            </div>
         </div>
      </div>
   {% endif %}
</div>
</body>
</html>
